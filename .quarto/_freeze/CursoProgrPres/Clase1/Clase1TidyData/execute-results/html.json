{
  "hash": "f1b9f2b7715b1f47c7c0bbf92db9f694",
  "result": {
    "markdown": "---\ntitle: \"Clase 1 El tidyverse\"\nauthor: \"Horacio Samaniego\"\ndate: \"08/08, 2023\"\noutput:\n  ioslides_presentation:\n    widescreen: true\n    incremental: true\n    logo: LogoRverso.jpeg\n---\n\n\n\n\n# Bienvenida\n\n## Curso: Introducción al Análisis y manipulación de datos geoespaciales {.build}\n\nPrimeros pasos\n\n* ¿Quien no ha usado nunca R? [Swirl](https://www.youtube.com/watch?v=w6L7Ye18yPE&feature=youtu.be)\n* Evaluación sencilla (Informes reproducibles + presentación reproducible)\n* Evaluación por pares (Quien evalua a los evaluadores)\n* Mucho trabajo personal guiado\n* Pagina donde esta [todo el curso](https://derek-corcoran-barrios.github.io/CursoProgramacion/_book/index.html)\n\n# Como se organizan los datos en R\n\n## Estructura de datos {.build}\n\n<div style=\"float: left; width: 40%;\">\n\n- Vector: Un conjunto lineal de datos (secuencia génica, serie de tiempo)\n- Matrix: Una tabla con solo números\n- Data Frame: Una tabla donde cada columna tiene un tipo de datos (estándar dorado)\n- List: Aqui podemos meter lo que queramos\n\n</div>\n\n<div style=\"float: right; width: 60%;\">\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Data.png){width=512}\n:::\n:::\n\n\n</div>\n\n## Vector {.build}\n\n<div style=\"float: left; width: 40%;\">\n\n* Secuencia lineal de datos\n* Pueden ser de muchos tipos (numéricos, de carácteres, lógicos, etc.)\n* Ejemplo data(uspop)\n* para crear uno c(1,4,6,7,8)\n* para subsetear un vector se pone el índice entre []\n* uspop[4], uspop[2:10], uspop[c(3,5,8)]\n\n</div>\n\n<div style=\"float: right; width: 60%;\">\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Vector.jpg){width=500}\n:::\n:::\n\n\n</div>\n\n# Lo entendimos?\n\n## Ejercicio\n\n\n## Respuesta\n\n\n\n## Data Frame {.build}\n\n<div style=\"float: left; width: 40%;\">\n\n* Una tabla, cada columna un tipo de datos (Numérico, lógico, etc)\n* Cada columna un vector\n* Ejemplo data(iris)\n* Para subsetear data.frame[filas,columnas]\n* Ejemplos iris[,3], iris[\"Petal.Length\"], iris[2:5,c(1,5)], iris$Petal.Length\n\n\n</div>\n\n<div style=\"float: right; width: 60%;\">\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](DataFrame.jpg){width=400}\n:::\n:::\n\n\n</div>\n\n## Ejercicio {.small}\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> Numero </th>\n   <th style=\"text-align:left;\"> Letra </th>\n   <th style=\"text-align:right;\"> Medida </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:left;\"> A </td>\n   <td style=\"text-align:right;\"> 67.21 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:left;\"> Q </td>\n   <td style=\"text-align:right;\"> 69.39 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:left;\"> D </td>\n   <td style=\"text-align:right;\"> 57.71 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:left;\"> J </td>\n   <td style=\"text-align:right;\"> 77.59 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:left;\"> F </td>\n   <td style=\"text-align:right;\"> 61.17 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Alternativas\n\n\n## Respuesta\n\n\n# Principios de Tidydata\n\n## Tidy Data  {.build}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](tidy.png){width=960}\n:::\n:::\n\n\n\n* Cada columna una variable\n* Cada fila una observación\n\n# Trabajemos tidy\n\n## dplyr {.build}\n\n* Paquete con pocas funciones [muy poderosas](https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf) para ordenar datos \n* Parte del [tidyverse](https://www.tidyverse.org/)\n\n- *group_by* (agrupa datos)\n- *summarize* (resume datos agrupados)\n- *filter* (Encuentra filas con ciertas condiciones)\n- *select* junto a *starts_with*, *ends_with* o *contains*\n- *mutate* (Genera variables nuevas)\n- *pipe*: *%>%* o bien *|>* (de uso mas reciente) \n- *arrange* ordenar\n\n## summarize y group_by {.build .small}\n\n- *group_by* reune observaciones según una variable\n- *summarize* resume una variable\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nSummary.Petal <- summarize(iris, Mean.Petal.Length = mean(Petal.Length),\n    SD.Petal.Length = sd(Petal.Length))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> Mean.Petal.Length </th>\n   <th style=\"text-align:right;\"> SD.Petal.Length </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 3.758 </td>\n   <td style=\"text-align:right;\"> 1.765298 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## summarize y group_by (continuado) {.small .build}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nSummary.Petal <- group_by(iris, Species)\nSummary.Petal <- summarize(Summary.Petal, Mean.Petal.Length = mean(Petal.Length),\n    SD.Petal.Length = sd(Petal.Length))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Species </th>\n   <th style=\"text-align:right;\"> Mean.Petal.Length </th>\n   <th style=\"text-align:right;\"> SD.Petal.Length </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> setosa </td>\n   <td style=\"text-align:right;\"> 1.462 </td>\n   <td style=\"text-align:right;\"> 0.1736640 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> versicolor </td>\n   <td style=\"text-align:right;\"> 4.260 </td>\n   <td style=\"text-align:right;\"> 0.4699110 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> virginica </td>\n   <td style=\"text-align:right;\"> 5.552 </td>\n   <td style=\"text-align:right;\"> 0.5518947 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## summarize y group_by (continuado) {.small .build}\n   \n* Pueden agrupar por más de una variable a la vez\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"mtcars\")\nMtcars2 <- group_by(mtcars, am, cyl)\nConsumo <- summarize(Mtcars2, Consumo_promedio = mean(mpg),\n    desv = sd(mpg))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> am </th>\n   <th style=\"text-align:right;\"> cyl </th>\n   <th style=\"text-align:right;\"> Consumo_promedio </th>\n   <th style=\"text-align:right;\"> desv </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 22.90000 </td>\n   <td style=\"text-align:right;\"> 1.4525839 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 19.12500 </td>\n   <td style=\"text-align:right;\"> 1.6317169 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 15.05000 </td>\n   <td style=\"text-align:right;\"> 2.7743959 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 28.07500 </td>\n   <td style=\"text-align:right;\"> 4.4838599 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 20.56667 </td>\n   <td style=\"text-align:right;\"> 0.7505553 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 15.40000 </td>\n   <td style=\"text-align:right;\"> 0.5656854 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n# Dudas?\n\n## mutate {.small}\n\n* Crea variables nuevas\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDF <- mutate(iris, Petal.Sepal.Ratio = Petal.Length/Sepal.Length)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:200px; overflow-x: scroll; width:900px; \"><table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Sepal.Length </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Sepal.Width </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Petal.Length </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Petal.Width </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> Species </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> Petal.Sepal.Ratio </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 5.8 </td>\n   <td style=\"text-align:right;\"> 4.0 </td>\n   <td style=\"text-align:right;\"> 1.2 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n   <td style=\"text-align:left;\"> setosa </td>\n   <td style=\"text-align:right;\"> 0.21 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 4.7 </td>\n   <td style=\"text-align:right;\"> 3.2 </td>\n   <td style=\"text-align:right;\"> 1.6 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n   <td style=\"text-align:left;\"> setosa </td>\n   <td style=\"text-align:right;\"> 0.34 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5.1 </td>\n   <td style=\"text-align:right;\"> 3.8 </td>\n   <td style=\"text-align:right;\"> 1.9 </td>\n   <td style=\"text-align:right;\"> 0.4 </td>\n   <td style=\"text-align:left;\"> setosa </td>\n   <td style=\"text-align:right;\"> 0.37 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5.2 </td>\n   <td style=\"text-align:right;\"> 2.7 </td>\n   <td style=\"text-align:right;\"> 3.9 </td>\n   <td style=\"text-align:right;\"> 1.4 </td>\n   <td style=\"text-align:left;\"> versicolor </td>\n   <td style=\"text-align:right;\"> 0.75 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6.4 </td>\n   <td style=\"text-align:right;\"> 2.9 </td>\n   <td style=\"text-align:right;\"> 4.3 </td>\n   <td style=\"text-align:right;\"> 1.3 </td>\n   <td style=\"text-align:left;\"> versicolor </td>\n   <td style=\"text-align:right;\"> 0.67 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5.5 </td>\n   <td style=\"text-align:right;\"> 2.5 </td>\n   <td style=\"text-align:right;\"> 4.0 </td>\n   <td style=\"text-align:right;\"> 1.3 </td>\n   <td style=\"text-align:left;\"> versicolor </td>\n   <td style=\"text-align:right;\"> 0.73 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6.5 </td>\n   <td style=\"text-align:right;\"> 3.0 </td>\n   <td style=\"text-align:right;\"> 5.8 </td>\n   <td style=\"text-align:right;\"> 2.2 </td>\n   <td style=\"text-align:left;\"> virginica </td>\n   <td style=\"text-align:right;\"> 0.89 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6.0 </td>\n   <td style=\"text-align:right;\"> 2.2 </td>\n   <td style=\"text-align:right;\"> 5.0 </td>\n   <td style=\"text-align:right;\"> 1.5 </td>\n   <td style=\"text-align:left;\"> virginica </td>\n   <td style=\"text-align:right;\"> 0.83 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 6.1 </td>\n   <td style=\"text-align:right;\"> 2.6 </td>\n   <td style=\"text-align:right;\"> 5.6 </td>\n   <td style=\"text-align:right;\"> 1.4 </td>\n   <td style=\"text-align:left;\"> virginica </td>\n   <td style=\"text-align:right;\"> 0.92 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 5.9 </td>\n   <td style=\"text-align:right;\"> 3.0 </td>\n   <td style=\"text-align:right;\"> 5.1 </td>\n   <td style=\"text-align:right;\"> 1.8 </td>\n   <td style=\"text-align:left;\"> virginica </td>\n   <td style=\"text-align:right;\"> 0.86 </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n:::\n\n\n## Pipeline (%>%) {.small .build}\n\n- Para realizar varias operaciones de forma secuencial \n- sin recurrir a parentesis anidados \n- sobrescribir multiples bases de datos\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- c(1, 4, 6, 8)\ny <- round(mean(sqrt(log(x))), 2)\n```\n:::\n\n\n- Que hice ahí?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- c(1, 4, 6, 8)\ny <- x %>%\n    log() %>%\n    sqrt() %>%\n    mean() %>%\n    round(2)\n```\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.99\n```\n:::\n:::\n\n\n## Pipeline (%>%) {.small .build}\n\n* Muchos objetos intermedios\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDF <- mutate(iris, Petal.Sepal.Ratio = Petal.Length/Sepal.Length)\nBySpecies <- group_by(DF, Species)\nSummary.Byspecies <- summarize(BySpecies, MEAN = mean(Petal.Sepal.Ratio),\n    SD = sd(Petal.Sepal.Ratio))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Species </th>\n   <th style=\"text-align:right;\"> MEAN </th>\n   <th style=\"text-align:right;\"> SD </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> setosa </td>\n   <td style=\"text-align:right;\"> 0.2927557 </td>\n   <td style=\"text-align:right;\"> 0.0347958 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> versicolor </td>\n   <td style=\"text-align:right;\"> 0.7177285 </td>\n   <td style=\"text-align:right;\"> 0.0536255 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> virginica </td>\n   <td style=\"text-align:right;\"> 0.8437495 </td>\n   <td style=\"text-align:right;\"> 0.0438064 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Pipeline (%>%) {.small .build}\n\n* Con pipe\n\n\n::: {.cell}\n\n```{.r .cell-code}\nSummary.Byspecies <- summarize(group_by(mutate(iris,\n    Petal.Sepal.Ratio = Petal.Length/Sepal.Length),\n    Species), MEAN = mean(Petal.Sepal.Ratio), SD = sd(Petal.Sepal.Ratio))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Species </th>\n   <th style=\"text-align:right;\"> MEAN </th>\n   <th style=\"text-align:right;\"> SD </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> setosa </td>\n   <td style=\"text-align:right;\"> 0.2927557 </td>\n   <td style=\"text-align:right;\"> 0.0347958 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> versicolor </td>\n   <td style=\"text-align:right;\"> 0.7177285 </td>\n   <td style=\"text-align:right;\"> 0.0536255 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> virginica </td>\n   <td style=\"text-align:right;\"> 0.8437495 </td>\n   <td style=\"text-align:right;\"> 0.0438064 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n## Pipeline (%>%) otro ejemplo\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nMEAN <- iris %>%\n    group_by(Species) %>%\n    summarize_all(.funs = list(Mean = mean, SD = sd))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Species </th>\n   <th style=\"text-align:right;\"> Sepal.Length_Mean </th>\n   <th style=\"text-align:right;\"> Sepal.Width_Mean </th>\n   <th style=\"text-align:right;\"> Petal.Length_Mean </th>\n   <th style=\"text-align:right;\"> Petal.Width_Mean </th>\n   <th style=\"text-align:right;\"> Sepal.Length_SD </th>\n   <th style=\"text-align:right;\"> Sepal.Width_SD </th>\n   <th style=\"text-align:right;\"> Petal.Length_SD </th>\n   <th style=\"text-align:right;\"> Petal.Width_SD </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> setosa </td>\n   <td style=\"text-align:right;\"> 5.006 </td>\n   <td style=\"text-align:right;\"> 3.428 </td>\n   <td style=\"text-align:right;\"> 1.462 </td>\n   <td style=\"text-align:right;\"> 0.246 </td>\n   <td style=\"text-align:right;\"> 0.3524897 </td>\n   <td style=\"text-align:right;\"> 0.3790644 </td>\n   <td style=\"text-align:right;\"> 0.1736640 </td>\n   <td style=\"text-align:right;\"> 0.1053856 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> versicolor </td>\n   <td style=\"text-align:right;\"> 5.936 </td>\n   <td style=\"text-align:right;\"> 2.770 </td>\n   <td style=\"text-align:right;\"> 4.260 </td>\n   <td style=\"text-align:right;\"> 1.326 </td>\n   <td style=\"text-align:right;\"> 0.5161711 </td>\n   <td style=\"text-align:right;\"> 0.3137983 </td>\n   <td style=\"text-align:right;\"> 0.4699110 </td>\n   <td style=\"text-align:right;\"> 0.1977527 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> virginica </td>\n   <td style=\"text-align:right;\"> 6.588 </td>\n   <td style=\"text-align:right;\"> 2.974 </td>\n   <td style=\"text-align:right;\"> 5.552 </td>\n   <td style=\"text-align:right;\"> 2.026 </td>\n   <td style=\"text-align:right;\"> 0.6358796 </td>\n   <td style=\"text-align:right;\"> 0.3224966 </td>\n   <td style=\"text-align:right;\"> 0.5518947 </td>\n   <td style=\"text-align:right;\"> 0.2746501 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n# Mas dudas?\n\n## Filter {.build}\n\n- Selecciona según una o más variables\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> simbolo </th>\n   <th style=\"text-align:left;\"> significado </th>\n   <th style=\"text-align:left;\"> simbolo_cont </th>\n   <th style=\"text-align:left;\"> significado_cont </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> &gt; </td>\n   <td style=\"text-align:left;\"> Mayor que </td>\n   <td style=\"text-align:left;\"> != </td>\n   <td style=\"text-align:left;\"> distinto a </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> &lt; </td>\n   <td style=\"text-align:left;\"> Menor que </td>\n   <td style=\"text-align:left;\"> %in% </td>\n   <td style=\"text-align:left;\"> dentro del grupo </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> == </td>\n   <td style=\"text-align:left;\"> Igual a </td>\n   <td style=\"text-align:left;\"> is.na </td>\n   <td style=\"text-align:left;\"> es NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> &gt;= </td>\n   <td style=\"text-align:left;\"> mayor o igual a </td>\n   <td style=\"text-align:left;\"> !is.na </td>\n   <td style=\"text-align:left;\"> no es NA </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> &lt;= </td>\n   <td style=\"text-align:left;\"> menor o igual a </td>\n   <td style=\"text-align:left;\"> | &amp; </td>\n   <td style=\"text-align:left;\"> o, y </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Ejemplos de filter agregando a lo anterior {.small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"iris\")\nDF <- iris %>%\n    filter(Species != \"versicolor\") %>%\n    group_by(Species) %>%\n    summarise_all(mean)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Species </th>\n   <th style=\"text-align:right;\"> Sepal.Length </th>\n   <th style=\"text-align:right;\"> Sepal.Width </th>\n   <th style=\"text-align:right;\"> Petal.Length </th>\n   <th style=\"text-align:right;\"> Petal.Width </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> setosa </td>\n   <td style=\"text-align:right;\"> 5.006 </td>\n   <td style=\"text-align:right;\"> 3.428 </td>\n   <td style=\"text-align:right;\"> 1.462 </td>\n   <td style=\"text-align:right;\"> 0.246 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> virginica </td>\n   <td style=\"text-align:right;\"> 6.588 </td>\n   <td style=\"text-align:right;\"> 2.974 </td>\n   <td style=\"text-align:right;\"> 5.552 </td>\n   <td style=\"text-align:right;\"> 2.026 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Ejemplos de filter {.small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDF <- iris %>%\n    filter(Petal.Length >= 4 & Sepal.Length >= 5) %>%\n    group_by(Species) %>%\n    summarise(N = n())\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Species </th>\n   <th style=\"text-align:right;\"> N </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> versicolor </td>\n   <td style=\"text-align:right;\"> 39 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> virginica </td>\n   <td style=\"text-align:right;\"> 49 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n## Más de una función {.small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"iris\")\nDF <- iris %>%\n    filter(Species != \"versicolor\") %>%\n    group_by(Species) %>%\n    summarise_all(.funs = list(Mean = mean, SD = sd))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Species </th>\n   <th style=\"text-align:right;\"> Sepal.Length_Mean </th>\n   <th style=\"text-align:right;\"> Sepal.Width_Mean </th>\n   <th style=\"text-align:right;\"> Petal.Length_Mean </th>\n   <th style=\"text-align:right;\"> Petal.Width_Mean </th>\n   <th style=\"text-align:right;\"> Sepal.Length_SD </th>\n   <th style=\"text-align:right;\"> Sepal.Width_SD </th>\n   <th style=\"text-align:right;\"> Petal.Length_SD </th>\n   <th style=\"text-align:right;\"> Petal.Width_SD </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> setosa </td>\n   <td style=\"text-align:right;\"> 5.006 </td>\n   <td style=\"text-align:right;\"> 3.428 </td>\n   <td style=\"text-align:right;\"> 1.462 </td>\n   <td style=\"text-align:right;\"> 0.246 </td>\n   <td style=\"text-align:right;\"> 0.3524897 </td>\n   <td style=\"text-align:right;\"> 0.3790644 </td>\n   <td style=\"text-align:right;\"> 0.1736640 </td>\n   <td style=\"text-align:right;\"> 0.1053856 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> virginica </td>\n   <td style=\"text-align:right;\"> 6.588 </td>\n   <td style=\"text-align:right;\"> 2.974 </td>\n   <td style=\"text-align:right;\"> 5.552 </td>\n   <td style=\"text-align:right;\"> 2.026 </td>\n   <td style=\"text-align:right;\"> 0.6358796 </td>\n   <td style=\"text-align:right;\"> 0.3224966 </td>\n   <td style=\"text-align:right;\"> 0.5518947 </td>\n   <td style=\"text-align:right;\"> 0.2746501 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Select {.small .build}\n\n\n* Selecciona columnas dentro de un data.frame, se pueden restar\n\n\n::: {.cell}\n\n```{.r .cell-code}\niris %>%\n    group_by(Species) %>%\n    select(Petal.Length, Petal.Width) %>%\n    summarize_all(mean)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\niris %>%\n    group_by(Species) %>%\n    select(-Sepal.Length, -Sepal.Width) %>%\n    summarize_all(mean)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\niris %>%\n    group_by(Species) %>%\n    select(contains(\"Petal\")) %>%\n    summarize_all(mean)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\niris %>%\n    group_by(Species) %>%\n    select(-contains(\"Sepal\")) %>%\n    summarize_all(mean)\n```\n:::\n\n::: {.cell}\n\n:::\n\n\n## Resultado\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed table-responsive\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Species </th>\n   <th style=\"text-align:right;\"> Petal.Length </th>\n   <th style=\"text-align:right;\"> Petal.Width </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> setosa </td>\n   <td style=\"text-align:right;\"> 1.462 </td>\n   <td style=\"text-align:right;\"> 0.246 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> versicolor </td>\n   <td style=\"text-align:right;\"> 4.260 </td>\n   <td style=\"text-align:right;\"> 1.326 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> virginica </td>\n   <td style=\"text-align:right;\"> 5.552 </td>\n   <td style=\"text-align:right;\"> 2.026 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n# \n\n## Ejercicios {.build .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nCasos_Activos <- read_csv(\"https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto19/CasosActivosPorComuna_std.csv\")\n```\n:::\n\n\n\nUsando la base de datos del repositorio del ministerio de ciencias, genera un dataframe que responda lo siguiente:\n\n* ¿Que proporción de las comunas ha tenido en algun momento mas de 50 casos por cada 100.000 habitantes?\n* Genera un dataframe, donde aparezca para cada comuna que haya tenido sobre 50 casos por cada 100.000 habitantes, cuantos días ha tenido sobre ese valor.\n* Genera una tabla de cuales comunas han tenido sobre 50 casos por cada 100.000 habitantes y de esas comunas crea una variable que sea la prevalencia máxima de dicha comuna.\n\n## **Bonus** (Esto requiere investigar no basta con lo que aprendimos)\n\n* Ve cuales son las 10 comunas que han tenido la mayor mediana de prevalencia, para cada una de estas 10 comunas, genera una tabla con la mediana, prevalencia máxima y fecha en que se alcanzó la prevalencia máxima\n\n* Nos vemos a las 12:45\n\n## Para la otra clase, es necesario: {.small .build}\n\n\n* Crearse cuenta de [github](https://github.com/)\n* Instalar los paquetes knitr, rmarkdown y kableExtra\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n<link href=\"../../site_libs/bsTable-3.3.7/bootstrapTable.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/bsTable-3.3.7/bootstrapTable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}